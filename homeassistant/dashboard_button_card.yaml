# Advanced Dashboard Card for Geberit AquaClean
# Requires: Custom Button Card from HACS
# Features: Custom SVG icons, tile layout, visual states

type: vertical-stack
cards:
  - type: markdown
    content: |
      ## Geberit AquaClean Mera Comfort
      ### 1. OG, Toilette im Master-Bad
  
  - type: custom:button-card
    entity: switch.geberit_aquaclean_toggle_lid
    name: Toggle Lid
    show_state: true
    show_icon: false
    show_entity_picture: true
    entity_picture: /local/custom_icons/geberit/adjustabletoiletseat.svg
    state:
      - value: "on"
        styles:
          entity_picture:
            - filter: brightness(1)
      - value: "off"
        styles:
          entity_picture:
            - filter: brightness(0.5)
    styles:
      card:
        - height: 130px
      entity_picture:
        - width: 50px
        - height: 50px
  
  - type: grid
    title: Monitor
    columns: 2
    square: false
    cards:
      # User Sitting - with on/off state icons
      - type: custom:button-card
        entity: binary_sensor.geberit_aquaclean_user_sitting
        name: User Sitting
        show_state: true
        show_icon: false
        show_entity_picture: true
        state:
          - value: "on"
            entity_picture: /local/custom_icons/geberit/is_user_sitting-on.svg
            styles:
              entity_picture:
                - filter: brightness(1)
          - value: "off"
            entity_picture: /local/custom_icons/geberit/is_user_sitting-off.svg
            styles:
              entity_picture:
                - filter: brightness(0.5)
        styles:
          card:
            - height: 130px
          entity_picture:
            - width: 50px
            - height: 50px
      
      # Anal Shower - single icon with brightness adjustment
      - type: custom:button-card
        entity: binary_sensor.geberit_aquaclean_anal_shower_running
        name: Anal Shower
        show_state: true
        show_icon: false
        show_entity_picture: true
        entity_picture: /local/custom_icons/geberit/analshower.svg
        state:
          - value: "on"
            styles:
              entity_picture:
                - filter: brightness(1)
          - value: "off"
            styles:
              entity_picture:
                - filter: brightness(0.5)
        styles:
          card:
            - height: 130px
          entity_picture:
            - width: 50px
            - height: 50px
      
      # Lady Shower - single icon with brightness adjustment
      - type: custom:button-card
        entity: binary_sensor.geberit_aquaclean_lady_shower_running
        name: Lady Shower
        show_state: true
        show_icon: false
        show_entity_picture: true
        entity_picture: /local/custom_icons/geberit/ladywash.svg
        state:
          - value: "on"
            styles:
              entity_picture:
                - filter: brightness(1)
          - value: "off"
            styles:
              entity_picture:
                - filter: brightness(0.5)
        styles:
          card:
            - height: 130px
          entity_picture:
            - width: 50px
            - height: 50px
      
      # Dryer - with on/off state icons
      - type: custom:button-card
        entity: binary_sensor.geberit_aquaclean_dryer_running
        name: Dryer
        show_state: true
        show_icon: false
        show_entity_picture: true
        state:
          - value: "on"
            entity_picture: /local/custom_icons/geberit/dryer_to_the_right-on.svg
            styles:
              entity_picture:
                - filter: brightness(1)
          - value: "off"
            entity_picture: /local/custom_icons/geberit/dryer_to_the_right-off.svg
            styles:
              entity_picture:
                - filter: brightness(0.5)
        styles:
          card:
            - height: 130px
          entity_picture:
            - width: 50px
            - height: 50px
  
  - type: entities
    title: Device Information
    entities:
      - entity: sensor.geberit_aquaclean_sap_number
        name: SAP Number
      - entity: sensor.geberit_aquaclean_production_date
        name: Production Date
      - entity: sensor.geberit_aquaclean_serial_number
        name: Serial Number
      - entity: sensor.geberit_aquaclean_description
        name: Description
      - entity: sensor.geberit_aquaclean_initial_operation_date
        name: Initial Operation Date
  
  - type: entities
    title: Descale Statistics
    entities:
      - entity: sensor.geberit_aquaclean_days_until_next_descale
        name: Days Until Next Descale
      - entity: sensor.geberit_aquaclean_days_until_shower_restricted
        name: Days Until Shower Restricted
      - entity: sensor.geberit_aquaclean_shower_cycles_until_confirmation
        name: Shower Cycles Until Confirmation
      - entity: sensor.geberit_aquaclean_number_of_descale_cycles
        name: Number of Descale Cycles
      - entity: sensor.geberit_aquaclean_last_descale
        name: Last Descale
      - entity: sensor.geberit_aquaclean_unposted_shower_cycles
        name: Unposted Shower Cycles

  - type: entities
    title: Connection Status
    entities:
      - entity: sensor.geberit_aquaclean_connected
        name: Connected
      - entity: sensor.geberit_aquaclean_error
        name: Error

  - type: entities
    title: ESPHome Proxy Status
    entities:
      - entity: binary_sensor.geberit_aquaclean_esphome_proxy_enabled
        name: Proxy Enabled
      - entity: binary_sensor.geberit_aquaclean_esphome_proxy_connected
        name: Proxy Connected
      - entity: sensor.geberit_aquaclean_esphome_proxy_connection
        name: ESP32 Device
      - entity: sensor.geberit_aquaclean_esphome_proxy_error
        name: Proxy Error
